import { Container, Grid } from "@mui/material";
import { ROUTER_STUDY } from "../../app/router";
import useAppConfig from "../../hooks/useAppConfig";
import Topic from "../../modules/share/model/topic";
import { IWebSeo } from "../../modules/share/model/webSeo";
import CtaButton from "../CtaButton";
import Introduction from "../introduction";
import RawLink from "../RawLink";
import "./studySEOView.scss";

const StudySEOView = (props: Pick<IWebSeo, "titleH1" | "summary" | "content"> & {
  topicsList?: Topic[]; onClickStart?: () => void; rootTopicSlug?: string;
}) => {
  const { titleH1 = '', summary = '', content = '', topicsList = [], onClickStart = () => { }, rootTopicSlug } = props;
  const appConfig = useAppConfig();
  return <div id="study-page-view">
    <Container maxWidth="xl">
      <div className="seo-content seo-content-primary">
        <h1>{titleH1}</h1>
        <p dangerouslySetInnerHTML={{ __html: summary }} />
        <div className="cta-practice">
          <CtaButton
            title="Start Now"
            endIcon={<svg width="21" height="29" viewBox="0 0 21 29" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M9.94782 5.342C10.3924 3.72906 11.4619 2.73495 12.798 2.38967C14.9445 1.90446 16.9169 2.70362 18.0012 4.29545C19.0763 5.87353 19.0267 7.93475 17.8685 9.33459C17.726 9.50705 17.5625 9.66335 17.3989 9.81971C17.3074 9.90717 17.2159 9.99465 17.128 10.085C16.8725 10.3485 16.8289 10.6481 17.0918 10.9457C17.361 11.2503 17.6812 11.2169 17.9862 11.036C18.0807 10.9794 18.1629 10.9042 18.2451 10.8289C18.2675 10.8084 18.29 10.7879 18.3126 10.7677C20.0962 9.1735 20.5552 6.6752 19.4909 4.37915C18.4806 2.2014 16.1256 0.852787 13.5546 0.978839C11.2578 1.08984 9.23171 2.76771 8.68403 5.01475C8.67527 5.04956 8.66404 5.0862 8.65261 5.12347C8.61386 5.2499 8.57289 5.38356 8.61852 5.47732C8.73248 5.71264 8.90461 6.03916 9.10503 6.09136C9.30745 6.14313 9.60054 5.93857 9.80353 5.78485C9.878 5.72891 9.89842 5.60749 9.91864 5.48727C9.92709 5.43701 9.93551 5.38697 9.94782 5.342ZM17.8656 18.6711C18.483 17.9136 19.3741 17.7847 20.1436 18.3462C20.8922 18.8933 21.0331 19.7986 20.4963 20.6016C20.24 20.9816 19.9831 21.3628 19.7281 21.7435L19.601 21.9325C18.6954 23.279 17.7618 24.6674 16.8211 26.0199C14.92 28.7533 11.462 29.4077 8.41225 27.6103C7.99957 27.367 7.54349 27.0975 7.06863 26.8099C6.69205 26.5819 6.3029 26.343 5.91411 26.0977C4.49536 25.2023 3.55863 23.9748 3.12783 22.4477C2.7612 21.1488 2.39713 19.8283 2.04582 18.5502C1.99003 18.3485 1.93443 18.1464 1.87882 17.9444C1.82322 17.7423 1.76761 17.5403 1.71183 17.3386L1.70781 17.3394L1.58694 16.9023C1.43592 16.3562 1.28743 15.8116 1.13842 15.265L1.137 15.2599C0.969071 14.6438 0.880242 14.2189 0.794565 13.8091C0.692914 13.3229 0.595698 12.8579 0.376074 12.12C0.226576 11.6178 0.289897 11.1819 0.554175 10.8924C0.745135 10.6836 1.12193 10.4589 1.83097 10.5787C2.57995 10.7045 3.1562 11.1704 3.49534 11.9241L4.22686 13.551C4.50733 14.1754 4.68866 14.5548 4.871 14.9364C5.04997 15.3108 5.22993 15.6874 5.50557 16.2996C5.56701 16.4373 5.63028 16.5777 5.70231 16.7036C5.77506 16.8284 5.84946 16.8784 5.89086 16.882C5.93481 16.8872 6.01743 16.8516 6.10534 16.7353C6.15991 16.6623 6.21072 16.5757 6.26504 16.4831L6.26658 16.4805C6.28865 16.4412 6.31127 16.4038 6.33388 16.3665L7.72137 14.078C7.82214 13.9119 7.92311 13.7455 8.02428 13.5788C9.54667 11.0699 11.1128 8.48887 12.6738 5.95688C12.9054 5.58009 13.301 5.23506 13.7318 5.03649C14.3377 4.75621 15.0895 4.99249 15.4418 5.57466C15.6922 5.98808 15.715 6.05128 15.7383 6.48529C15.7527 6.76405 15.6237 7.41212 15.5015 7.58512C15.4937 7.59643 15.4858 7.60759 15.4781 7.61864C15.4572 7.64849 15.4368 7.67755 15.4192 7.70657C14.3387 9.49099 13.2556 11.2739 12.1725 13.0568L11.3935 14.3404L11.2892 14.5127C11.0953 14.8415 11.1258 14.9555 11.1269 14.9594C11.13 14.9745 11.1613 15.0033 11.2182 15.0362L11.2187 15.0364C11.2916 15.0773 11.3915 15.1332 11.6286 14.7445C11.9798 14.1703 12.3284 13.5946 12.677 13.0188L12.6774 13.0183L13.1326 12.2664L13.1844 12.1809C13.2327 12.0982 13.2818 12.0143 13.3422 11.929C13.8419 11.2189 14.7529 11.0311 15.5091 11.4792L15.5232 11.4877C16.2942 11.9546 16.5544 12.8646 16.1277 13.6124C15.7722 14.2369 15.3918 14.8595 15.0231 15.4596C14.8643 15.7191 14.7047 15.9798 14.5463 16.2413C14.5215 16.2822 14.496 16.3244 14.4699 16.3646L14.4684 16.367C14.4137 16.4545 14.3619 16.5373 14.322 16.6175C14.2128 16.841 14.2919 16.8858 14.3776 16.9344L14.3778 16.9345L14.3782 16.9348C14.4498 16.9748 14.5315 17.0206 14.6451 16.8445C14.8104 16.5889 14.9731 16.3202 15.1307 16.0599L15.1308 16.0597C15.2431 15.8743 15.3562 15.6876 15.471 15.5036C16.0279 14.6157 16.9297 14.3681 17.7678 14.8739L17.7704 14.8755C18.6065 15.3818 18.8025 16.2941 18.2684 17.1991C18.0475 17.5726 17.8046 17.9738 17.5244 18.4249C17.3438 18.7147 17.4219 18.7663 17.5113 18.8253L17.512 18.8258C17.5902 18.8781 17.661 18.9226 17.8656 18.6711Z" fill="var(--btnTestTitleColor)" />
            </svg>}
            onClick={onClickStart}
            width={350}
            breakpoint={576}
            color="var(--btnTestTitleColor)"
            backgroundColor="var(--btnTestBackground)"
            backgroundLayerColor="var(--btnTestBackgroundLayer)"
            titleClassName="cta-practice-title"
            buttonClassName="cta-practice-button"
            borderRadius={15}
          />
        </div>
      </div>
    </Container>

    <div className="subjects-list">
      <Container>
        <h2 className="subjects-list-title">More {appConfig.appName.toUpperCase()} Practice</h2>
        <Grid container columnSpacing={5} rowSpacing={1.5}>
          {topicsList.map((topic) => {
            const href = `/${ROUTER_STUDY}${rootTopicSlug ? `/${rootTopicSlug}` : ''}/${topic.slug}`;
            return <Grid item key={topic._id} xs={12} sm={6} md={4}>
              <RawLink href={href} className="subjects-list-item">
                {topic.name}
              </RawLink>
            </Grid>
          })}
        </Grid>
      </Container>
    </div>
    {content && <div className="seo-content seo-content-secondary">
      <Introduction content={content} />
    </div>}
  </div>
}

export default StudySEOView;